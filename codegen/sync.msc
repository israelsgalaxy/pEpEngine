msc {

  # The entities
  ua [label="Alice
User"], a [label="Alice
Device"], b [label="Bob
Device"], ub [label="Bob
User"];

  # Small gap before the boxes
  |||;

  # Next four on same line due to ','
  a box a [label="sole"],
  b box b [label="sole"];
  ua -> a [label="KeyGen"];
  a -> b  [label="Beacon"];
  b -> a  [label="NegotiationRequest"];
  a >> b  [label="NegotiationOpen"];
  a box a [label="HandshakingOfferer"],
  b box b [label="HandshakingRequester"];
}
